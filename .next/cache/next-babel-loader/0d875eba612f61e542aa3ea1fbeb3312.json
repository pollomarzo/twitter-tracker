{"ast":null,"code":"const path = require(\"path\");\n\nconst dirPath = path.join(process.cwd(), \"/twitterAPI\");\n\nconst twitterAPI = require(\"../../twitterAPI/geoStream.js\");\n\nexport default function handler(req, res) {\n  return new Promise(resolve => {\n    if (req.method == \"POST\") {\n      const parameters = {\n        track: \"#test\",\n        follow: \"\",\n        locations: \"11.23,44.44,11.44,44.45\"\n      };\n      const coordinates = req.body.coordinates;\n      console.log(\"starting stream on \", coordinates);\n      const streamID = twitterAPI.startStream(parameters);\n      res.send(streamID);\n      resolve();\n    } else if (req.method == \"DELETE\") {\n      const streamID = req.query.id; //should be body\n\n      console.log(streamID);\n      const {\n        dataJson,\n        error\n      } = twitterAPI.closeStream(streamID);\n      res.json(dataJson);\n      resolve();\n    } else {\n      res.end();\n    }\n  });\n}","map":null,"metadata":{},"sourceType":"module"}